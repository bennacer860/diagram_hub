<div>
  <p>
    <strong>Name:</strong>
    <%= @diagram.name %>
  </p>
</div>

<div>
  <p>
    <strong>Description:</strong>
    <%= @diagram.description %>
  </p>
</div>

<p>
  <strong>Source code:</strong>
  <pre class='mermaid'><%= @diagram.source_code %></pre>
  <%= @diagram.format_source_code_to_html&.html_safe %>
</p>

<div>
  <% if user_signed_in? %>
    |
    <%= link_to 'Edit', edit_diagram_path(@diagram) %> |
    <%= link_to 'Back', diagrams_path %>
    <%= link_to 'Destroy', @diagram, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-sm btn-outline-danger" %>
  <% end %> 
</div>

<% if @diagram.tag_list.present? %>
  <p>
    <strong>Tags:</strong>
    <div class="tags-input">
      <% @diagram.tag_list.each do |tag| %>
        <span class="badge badge-pill badge-primary"><%= tag %></span>
      <% end %>
    </div>
  </p>
<% else %>
  <p>No available tags.</p>
<% end %>
